<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
</head>
<body>
  이름: <input type="text" id="textarea"><br>
  html: <input type="text" id="num1"><br>
  javascript: <input type="text" id="num2"><br>
  css: <input type="text" id="num3"><br>
  nodejs: <input type="text" id="num4"><br>
  mysql: <input type="text" id="num5"><br>

  <input type="button" value="성적입력" id='score'>
  <input type="button" value="초기화" id='ClearBtn'>
  <br>
  <span id="resultArea"></span><br>
  <br>
  평균: <span id="avgArea"></span>
  <br>
  최고점자: <span id="bestArea"></span>
  <!-- <span id="resultArea1"></span><br> -->
</body>
<script>
  var htmlT = 0, javascriptT = 0,cssT = 0, nodejsT = 0, mysqlT = 0, studentCnt = 0, bestAvg;
  document.getElementById('score').addEventListener('click',function(){
  var name = document.getElementById('textarea').value;
  var html = Number(document.getElementById('num1').value);
  var javascript = Number(document.getElementById('num2').value);
  var css = Number(document.getElementById('num3').value);
  var nodejs = Number(document.getElementById('num4').value);
  var mysql = Number(document.getElementById('num5').value);
  var avg = (html + javascript + css + nodejs + mysql) / 5;
  htmlT += html;  // htmlT = htmlT + html;
  javascriptT += javascript;
  cssT += css;
  nodejsT += nodejs;
  mysqlT += mysql;
  studentCnt++;

  if(studentCnt==1) {
    bestAvg = avg;
    document.getElementById('bestArea').innerHTML = `이름 : ${name} / 평균 : ${bestAvg}`;
  }
  else if(avg>bestAvg){
    bestAvg = avg;
    document.getElementById('bestArea').innerHTML = `이름 : ${name} / 평균 : ${bestAvg}`;
  }

  var text = `이름 : ${name} / html : ${html} / javascript : ${javascript}
  / css : ${css} / nodejs : ${nodejs} / mysql : ${mysql} / ${name }평균 : ${avg} <br>`;
  document.getElementById('scoreInfoArea').innerHTML += text;


  var avgText = `html평균 : ${htmlT/studentCnt}
  / javascript평균 : ${javascriptT/studentCnt} / css평균 : ${cssT/studentCnt}
  / nodejs평균 : ${nodejsT/studentCnt} / mysql평균 : ${mysqlT/studentCnt}
  / 전체평균 : ${(htmlT + javascriptT + cssT + nodejsT + mysqlT)/5/studentCnt}`;
  document.getElementById('avgArea').innerHTML = avgText;

  document.getElementById('name').value = "";
  document.getElementById('num1').value = "";
  document.getElementById('num2').value = "";
  document.getElementById('num3').value = "";
  document.getElementById('num4').value = "";
  document.getElementById('num5').value = "";

  // document.getElementById('resultArea').innerHTML += `이름: ${name} / html: ${num1} / javascript: ${num2}
  // / css: ${num3} / nodejs: ${num4} / mysql: ${num5} / ${name}평균: ${avr}<br><br>`;

  });

  document.getElementById('ClearBtn').addEventListener('click',function(){
    document.getElementById('textarea').value= "";
    document.getElementById('num1').value= "";
    document.getElementById('num2').value= "";
    document.getElementById('num3').value= "";
    document.getElementById('num4').value= "";
    document.getElementById('num5').value= "";
    document.getElementById('resultArea').innerHTML = "";
    document.getElementById('resultArea1').innerHTML = "";
  });
</script>
</html>
